---
version: 0.1.0
alias: id_graph_customer_dp_sample_ufo5
discoveryPort:
  name: Id Graph Customers Sample ufo5
  description: Flattened data for id graph cluster
  domain:
    - customer
inputPorts:
  - alias: customer_data
    description: string
    tags: []
    extra: {}
    syncType: pull
    type: s3-csv
    connectionUrn: urn:dv:connection:d7120a9c-e7f0-47f0-9c13-bc225a81f60c
    filter: ''
    projection:
      - '*'
    dataSet:
      path: 's3://xsight-id-graph-preprod/ds/idg/experiment_1/persistent_id/part-00000-153f51da-d517-447c-9055-5056bc061860-c000.csv'
      delimiter: ','
      header: true
productState:
  updateType: on-demand
  updateStrategy: overwrite
  logicalSchema:
    properties:
      unique_id:
        type: string
      salted_customerName:
        type: string
      customerName:
        type: string
      phone_isd_code:
        type: string
      phone:
        type: string
      email:
        type: string
      dateOfBirth:
        type: string
      source:
        type: string
      first_name:
        type: string
      middle_name:
        type: string
      last_name:
        type: string
      gender:
        type: string
      nationality:
        type: string
      __splink_salt:
        type: string
      merged_gcr_id:
        type: string
      cluster_id:
        type: string
      cluster_id_ts:
        type: string
transformation:
  - alias: customer_data_all
    sequenceNo: 1
    type: sql
    description: Get everything from customer data
    query: select * from customer_data
outputPort:
  subscriptionChannels:
    - channelType: jdbc
      queryType: sql
    - channelType: rest-api
      queryType: sql
